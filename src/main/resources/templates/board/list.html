<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/common :: head('WELCOME!')">
    <!--    &lt;!&ndash; Required meta tags &ndash;&gt;-->
    <!--    <meta charset="utf-8">-->
    <!--    <meta name="viewport" content="width=device-width, initial-scale=1">-->

    <!--    &lt;!&ndash; Bootstrap CSS &ndash;&gt;-->
    <!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">-->

    <!--    <title>Hello, world!</title>-->
</head>
<body>

<header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow" th:replace="fragments/common :: header">
    <!--    <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" href="#">Company name</a>-->
    <!--    <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse"-->
    <!--            data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false"-->
    <!--            aria-label="Toggle navigation">-->
    <!--        <span class="navbar-toggler-icon"></span>-->
    <!--    </button>-->
    <!--    <input class="form-control form-control-dark w-100" type="text" placeholder="Search" aria-label="Search">-->
    <!--    <div class="navbar-nav">-->
    <!--        <div class="nav-item text-nowrap">-->
    <!--            <a class="nav-link px-3" href="#">Sign out</a>-->
    <!--        </div>-->
    <!--    </div>-->
</header>

<div class="container-fluid">
    <div class="row">
        <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse"
             th:replace="fragments/common :: nav('board')">
            <!--            <div class="position-sticky pt-3">-->
            <!--                <ul class="nav flex-column">-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link active" aria-current="page" href="#" th:href="@{/}">-->
            <!--                            Dashboard-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#" th:href="@{/board/list}">-->
            <!--                            Board-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#">-->
            <!--                            Products-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#">-->
            <!--                            Customers-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#">-->
            <!--                            Reports-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#">-->
            <!--                            Integrations-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                </ul>-->

            <!--                <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">-->
            <!--                    <span>Saved reports</span>-->
            <!--                </h6>-->
            <!--                <ul class="nav flex-column mb-2">-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#">-->
            <!--                            Current month-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#">-->
            <!--                            Last quarter-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#">-->
            <!--                            Social engagement-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#">-->
            <!--                            Year-end sale-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                </ul>-->
            <!--            </div>-->
        </nav>
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <div class="container table-responsive mx-auto my-auto">
                <h2 class="my-3">Board</h2>

                <form class="row g-3 justify-content-end" th:action="@{/board/list}" method="get">
                    <div class="col-auto">
                        <label for="searchText" class="visually-hidden">Search</label>
                        <input type="text" class="form-control" id="searchText" name="searchText" th:value="${param.searchText}">
                    </div>
                    <div class="col-auto">
                        <button type="submit" class="btn btn-dark mb-3">Search</button>
                    </div>
                </form>

                <div>Total : <span th:text="${boards.totalElements}"></span></div>
                <table class="table table-striped">
                    <thead>
                    <tr class="text-center">
                        <th scope="col">#</th>
                        <th scope="col">Level</th>
                        <th scope="col">UserId</th>
                        <th scope="col">Title</th>
                        <th scope="col">Date</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="text-center" th:each="board : ${boards}">
                        <td th:text="${board.id}">999</td>
                        <td>BASIC</td>
                        <td>Superman0334</td>
                        <td><a th:text="${board.title}" th:href="@{/board/readpost(id = ${board.id})}">This is a title</a></td>
                        <td th:text="${board.date}">2010/08/08 00:00:00</td>
                    </tr>
                    </tbody>
                </table>

                <div class="text-end">
                    <a type="button" class="btn btn-outline-secondary" th:href="@{/board/form}">Write</a>
                </div>

                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-center">
                        <li class="page-item" th:classappend="${boards.pageable.pageNumber + 1 == 1} or ${boards.totalElements == 0} ? 'disabled'">
                            <a class="page-link" href="#" th:href="@{/board/list(page = ${boards.pageable.pageNumber - 1}, searchText = ${param.searchText})}">Previous</a>
                        </li>
                        <li class="page-item" th:unless="${boards.totalElements == 0}" th:classappend="${boards.pageable.pageNumber + 1 == i} ? 'disabled'" th:each="i: ${#numbers.sequence(startPage, endPage)}">
                            <a class="page-link" href="#" th:text="${i}" th:href="@{/board/list(page = ${i - 1}, searchText = ${param.searchText})}">1</a>
                        </li>
                        <li class="page-item disabled" th:if="${boards.totalElements == 0}">
                            <a class="page-link" href="#">1</a>
                        </li>
                        <li class="page-item" th:classappend="${boards.pageable.pageNumber == boards.totalPages - 1} or ${boards.totalElements == 0} ? 'disabled'">
                            <a class="page-link" href="#" th:href="@{/board/list(page = ${boards.pageable.pageNumber + 1}, searchText = ${param.searchText})}">Next</a>
                        </li>
                    </ul>
                </nav>

            </div>
        </main>
    </div>
</div>

<!-- Optional JavaScript; choose one of the two! -->
<!-- Option 1: Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<!-- Option 2: Separate Popper and Bootstrap JS -->
<!--
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
-->
</body>
</html>