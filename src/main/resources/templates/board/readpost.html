<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/common :: head('WELCOME!')">
    <!--    &lt;!&ndash; Required meta tags &ndash;&gt;-->
    <!--    <meta charset="utf-8">-->
    <!--    <meta name="viewport" content="width=device-width, initial-scale=1">-->

    <!--    &lt;!&ndash; Bootstrap CSS &ndash;&gt;-->
    <!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">-->

    <!--    <title>Hello, world!</title>-->
</head>
<body>

<header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow" th:replace="fragments/common :: header">
    <!--    <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" href="#">Company name</a>-->
    <!--    <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse"-->
    <!--            data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false"-->
    <!--            aria-label="Toggle navigation">-->
    <!--        <span class="navbar-toggler-icon"></span>-->
    <!--    </button>-->
    <!--    <input class="form-control form-control-dark w-100" type="text" placeholder="Search" aria-label="Search">-->
    <!--    <div class="navbar-nav">-->
    <!--        <div class="nav-item text-nowrap">-->
    <!--            <a class="nav-link px-3" href="#">Sign out</a>-->
    <!--        </div>-->
    <!--    </div>-->
</header>

<div class="container-fluid">
    <div class="row">
        <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse"
             th:replace="fragments/common :: nav('board')">
            <!--            <div class="position-sticky pt-3">-->
            <!--                <ul class="nav flex-column">-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link active" aria-current="page" href="#" th:href="@{/}">-->
            <!--                            Dashboard-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#" th:href="@{/board/list}">-->
            <!--                            Board-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#">-->
            <!--                            Products-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#">-->
            <!--                            Customers-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#">-->
            <!--                            Reports-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#">-->
            <!--                            Integrations-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                </ul>-->

            <!--                <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">-->
            <!--                    <span>Saved reports</span>-->
            <!--                </h6>-->
            <!--                <ul class="nav flex-column mb-2">-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#">-->
            <!--                            Current month-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#">-->
            <!--                            Last quarter-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#">-->
            <!--                            Social engagement-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                    <li class="nav-item">-->
            <!--                        <a class="nav-link" href="#">-->
            <!--                            Year-end sale-->
            <!--                        </a>-->
            <!--                    </li>-->
            <!--                </ul>-->
            <!--            </div>-->
        </nav>
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
            <div class="container mx-auto my-auto">
                <h2 class="my-3">Board</h2>
                <form action="" th:object="${board}">
                    <fieldset disabled>
                        <div class="mb-3">
                            <label for="username" class="form-label">Username</label>
                            <input type="text" class="form-control" id="username">
                        </div>
                        <div class="mb-3">
                            <label for="level" class="form-label">Membership Level</label>
                            <input type="text" class="form-control" id="level">
                        </div>
                        <div class="mb-3">
                            <label for="title" class="form-label">Title</label>
                            <input type="text" class="form-control" id="title" th:field="*{title}">
                        </div>
                        <div class="mb-3">
                            <label for="content" class="form-label">Content</label>
                            <textarea class="form-control" id="content" rows="3" th:field="*{content}"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="date" class="form-label">Date</label>
                            <input type="text" class="form-control" id="date" th:field="*{date}">
                        </div>
                    </fieldset>

                    <div class="text-end">
                        <a type="button" class="btn btn-outline-secondary" th:href="@{/board/list}">Back</a>
                        <a type="button" class="btn btn-outline-secondary"
                           th:href="@{/board/form(id = *{id})}">Modify</a>
                        <button type="button" class="btn btn-danger" th:onclick="|deleteBoard(*{id})|">Delete</button>
                    </div>

                </form>
            </div>
        </main>
    </div>
</div>

<!-- Optional JavaScript; choose one of the two! -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!-- Option 1: Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<!--게시물 삭제 기능 구현-->
<script>
    function deleteBoard(id) {
        $.ajax({
            url: '/api/boards/' + id,
            type: 'DELETE',
            success: function(result) {
                console.log('result', result)
                alert('deleted!')
                window.location.href = '/board/list';
            }
        });
    }
</script>
<!-- Option 2: Separate Popper and Bootstrap JS -->
<!--
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
-->
</body>
</html>